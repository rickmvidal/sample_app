<%= form_for(@micropost) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="field">
    <%= f.text_area :content, placeholder: "Compose new micropost...", :maxlength => 140 %>
  </div>
  <p>Characters left: <span id="char-count">140</span></p>
  <div class="action">
    <%= f.submit "Post", class: "btn btn-large btn-primary" %>
  </div>
<% end %>

<script type="text/javascript">  var maxLen = 140; $(function() { setCharCount($('#micropost_content')); }); $('#micropost_content').live('keyup keydown', function(e) { setCharCount($(this));  });  function setCharCount(object) {   var left = maxLen - object.val().length;  $('#char-count').html(left); }</script>